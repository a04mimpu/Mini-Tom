<!doctype html>
<html lang="sv">
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Varukorg ‚Äì Demo</title>
<style>
  body{margin:0;background:#081127;font-family:Segoe UI,Roboto,Arial,sans-serif;color:#e9f3ff}
  .wrap{max-width:1000px;margin:28px auto;padding:0 16px}
  h1{margin:0 0 16px}
  .card{background:#0f1c3a;border:1px solid #19305d;border-radius:14px;box-shadow:0 10px 28px rgba(0,0,0,.3)}
  .head,.foot{padding:14px 18px;border-bottom:1px solid #19305d}
  .foot{border-top:1px solid #19305d;border-bottom:0;display:flex;gap:12px;justify-content:flex-end}
  table{width:100%;border-collapse:collapse;color:#dff3ff}
  th,td{padding:12px;border-bottom:1px solid #19305d;text-align:left}
  th{color:#8edfff}
  input{background:#0b1733;color:#e9f3ff;border:1px solid #2a457a;border-radius:8px;padding:8px 10px;width:100%;box-sizing:border-box}
  .muted{color:#9fb6d8;font-size:13px}
  .btn{border:0;border-radius:10px;padding:10px 16px;font-weight:700;cursor:pointer}
  .btn.primary{background:#00e6ff;color:#062b33}
  .btn.ghost{background:#22345e;color:#dff3ff;border:1px solid #34538f}
</style>

<body>
<div class="wrap">
  <h1>Varukorg</h1>
  <div class="card">
    <div class="head">Artiklar</div>
    <div style="padding:12px 18px">
      <table>
        <thead>
          <tr><th>Produkt</th><th>Mottagare</th><th>Adress</th><th>Ansvarskod</th><th>Rubrik</th></tr>
        </thead>
        <tbody>
          <tr>
            <td><input id="prod"></td>
            <td><input id="namn"></td>
            <td><input id="adress"></td>
            <td><input id="ansvarskod"></td>
            <td><input id="rubrik"></td>
          </tr>
        </tbody>
      </table>
      <div class="muted" id="descLine"></div>
    </div>
    <div class="foot">
      <button class="btn ghost" id="backBtn">Tillbaka</button>
      <button class="btn primary" id="saveBtn">Spara √§ndringar</button>
      <button class="btn primary" id="checkoutBtn">G√• vidare</button>
    </div>
  </div>
</div>

<script>
  const $ = id => document.getElementById(id);

  function load(){
    const raw = localStorage.getItem('arendeData');
    let data = raw ? JSON.parse(raw) : null;

    // Fallback: om bara beskrivning finns, f√∂rs√∂k tolka minimalt
    if(!data){
      const desc = localStorage.getItem('beskrivning') || '';
      data = { beskrivning: desc, produkt:'', adress:'', namn:'', ansvarskod:'', rubrik:'' };
    }

    $('prod').value = data.produkt || '';
    $('namn').value = data.namn || '';
    $('adress').value = data.adress || '';
    $('ansvarskod').value = data.ansvarskod || '';
    $('rubrik').value = data.rubrik || '';

    $('descLine').textContent = 'Beskrivning: ' + (data.beskrivning || '‚Äî');
  }

  function save(){
    const current = {
      beskrivning: (localStorage.getItem('arendeData') ? JSON.parse(localStorage.getItem('arendeData')).beskrivning : (localStorage.getItem('beskrivning')||'')),
      produkt: $('prod').value.trim(),
      adress: $('adress').value.trim(),
      namn: $('namn').value.trim(),
      ansvarskod: $('ansvarskod').value.trim(),
      rubrik: $('rubrik').value.trim()
    };
    localStorage.setItem('arendeData', JSON.stringify(current));
    alert('Sparat i varukorg üëç');
  }

  $('saveBtn').onclick = save;
  $('backBtn').onclick = ()=>history.back();
  $('checkoutBtn').onclick = ()=>{
    save();
    alert('H√§r skulle n√§sta steg i fl√∂det ta vid (kassa/attest).');
  };

  load();
</script>
</body>
</html>
