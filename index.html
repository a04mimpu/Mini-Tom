<!DOCTYPE html>
<html lang="sv">
<head>
  <meta charset="UTF-8">
  <title>Mini-Tom</title>
  <style>
    body {
      font-family: sans-serif;
      text-align: center;
      margin-top: 50px;
      background-color: #f9f9f9;
    }
    .agent {
      font-size: 100px;
      transition: transform 0.3s ease;
    }
    .agent.blink {
      transform: scale(1.1);
    }
    #response {
      margin-top: 20px;
      font-size: 20px;
      color: #444;
    }
    input, button {
      padding: 10px;
      font-size: 16px;
    }
  </style>
</head>
<body>
  <div class="agent" id="agent">ü§ñ</div>
  <input type="text" id="input" placeholder="Skriv n√•got roligt till Mini-Tom..." />
  <button onclick="ask()">Fr√•ga</button>
  <div id="response"></div>

<script>
  async function ask() {
    const input = document.getElementById("input").value.trim();
    const agent = document.getElementById("agent");
    const responseBox = document.getElementById("response");

    agent.classList.add("blink");
    setTimeout(() => agent.classList.remove("blink"), 300);

    const normalized = input.toLowerCase();

    // K√§nsloreaktion
    if (normalized.includes("arg")) {
      agent.innerText = "üò†";
    } else if (normalized.includes("ledsen")) {
      agent.innerText = "üò¢";
    } else if (normalized.includes("kul") || normalized.includes("roligt")) {
      agent.innerText = "üòÑ";
    } else if (normalized.includes("kram")) {
      agent.innerText = "ü§ó";
    } else {
      agent.innerText = "ü§ñ";
    }

    // üéØ Direktkommandon till best√§llning
    const best√§llningsfraser = [
      "skapa best√§llning",
      "jag vill skapa en best√§llning",
      "best√§llning",
      "jag vill best√§lla",
      "g√∂ra en best√§llning",
      "skapa en best√§llning",
      "starta best√§llning",
      "ny best√§llning"
    ];

    const match = best√§llningsfraser.some(fras => normalized.includes(fras));

    if (match) {
      const svar = "Javisst, jag hj√§lper dig!";
      responseBox.innerText = svar;

      const utterance = new SpeechSynthesisUtterance(svar);
      utterance.lang = "sv-SE";
      speechSynthesis.speak(utterance);

      setTimeout(() => {
        window.location.href = "bestallning.html";
      }, 3000);
      return;
    }

    // Standard-svar
    const svar = "Hmm... det m√•ste jag fundera lite mer p√•.";
    responseBox.innerText = svar;

    const utterance = new SpeechSynthesisUtterance(svar);
    utterance.lang = "sv-SE";
    speechSynthesis.speak(utterance);
  }
</script>


</body>
</html>


