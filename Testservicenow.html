<!DOCTYPE html>
<html lang="sv">
<head>
  <meta charset="UTF-8">
  <title>Test ServiceNow</title>
  <style>
    body {
      font-family: sans-serif;
      background-color: #eef7ff;
      text-align: center;
      margin: 50px auto;
    }

    input, button {
      padding: 10px;
      width: 70%;
      margin: 10px auto;
      font-size: 16px;
      display: block;
    }

    .emoji {
      font-size: 64px;
    }

    #felmeddelande {
      color: red;
      font-weight: bold;
      display: none;
    }
  </style>
</head>
<body>
  <div class="emoji">üßæ</div>
  <h1>TestServiceNow</h1>

  <input type="text" id="produkt" placeholder="Vad vill du best√§lla? (ex: iPhone 15)">
  <input type="text" id="chef" placeholder="Mottagande chef (ex: Anna Larsson)">
  <input type="text" id="adress" placeholder="Adress (ex: Gatan 2)">
  
  <button onclick="tolkaOchSkicka()">Tolka & skicka</button>

  <p id="felmeddelande">üò° Men vad g√∂r du nu? Alla f√§lt m√•ste fyllas i!</p>

  <script>
    function tolkaOchSkicka() {
      const produkt = document.getElementById("produkt").value.trim();
      const chef = document.getElementById("chef").value.trim();
      const adress = document.getElementById("adress").value.trim();

      if (!produkt || !chef || !adress) {
        document.getElementById("felmeddelande").style.display = "block";
        return;
      }

      // I verkligheten: allt hamnar i ett beskrivningsf√§lt
      const beskrivning = `${produkt}, ${chef}, ${adress}`;

      // Splittra f√∂r att simulera tolkning
      const delar = beskrivning.split(",");

      const encodedProdukt = encodeURIComponent(delar[0].trim());
      const encodedChef = encodeURIComponent(delar[1].trim());
      const encodedAdress = encodeURIComponent(delar[2].trim());

      window.location.href = `varukorg.html?produkt=${encodedProdukt}&chef=${encodedChef}&adress=${encodedAdress}`;
    }
  </script>
</body>
</html>
